<!DOCTYPE html>
<html><head>
<meta name="google-site-verification" content="XrwF-xUZWSGJVBBm7jM8vqemVqx--zo5Tb9d-Vr7BCc" />
<title>ç¢ºèªè¨‚å–®ã€feignè«‹æ±‚é ­å•é¡Œ</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="SpringBootå¾®æœå‹™é …ç›®ç­†è¨˜-19">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="ç¢ºèªè¨‚å–®ã€feignè«‹æ±‚é ­å•é¡Œ" />
<meta property="og:description" content="SpringBootå¾®æœå‹™é …ç›®ç­†è¨˜-19" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yoziming.github.io/post/220205-gulimall-19/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-02-05T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />






<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ç¢ºèªè¨‚å–®ã€feignè«‹æ±‚é ­å•é¡Œ"/>
<meta name="twitter:description" content="SpringBootå¾®æœå‹™é …ç›®ç­†è¨˜-19"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  




<link rel="icon" href="https://yoziming.github.io/images/favicon.png">



<link rel="stylesheet" href="https://yoziming.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yoziming.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>











<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>





</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yoziming.github.io/">
    
        <div class="nav-title">
            æŸšå­èŒ¶å®¤
        </div>
        
        <div class="nav-subtitle">
            ç´€éŒ„è‡ªå­¸å¤§å°äº‹
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/">
                é¦–é ğŸ 
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                ç³»åˆ—æ–‡ğŸ“–
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                æ¨™ç±¤ğŸ·ï¸
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about-me">
                é—œæ–¼æˆ‘ğŸ£
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ç§»æ¤è‡ª <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ç›®éŒ„ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%95%86%e5%9f%8e%e8%a8%82%e5%96%ae%e6%a8%a1%e7%b5%84" onclick="onNavClick(`#å•†åŸè¨‚å–®æ¨¡çµ„-nav`)" id="å•†åŸè¨‚å–®æ¨¡çµ„-nav">
									å•†åŸè¨‚å–®æ¨¡çµ„
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e8%a8%82%e5%96%ae%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#è¨‚å–®æµç¨‹-nav`)" id="è¨‚å–®æµç¨‹-nav">
									è¨‚å–®æµç¨‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%ad%a3%e5%90%91%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#æ­£å‘æµç¨‹-nav`)" id="æ­£å‘æµç¨‹-nav">
									æ­£å‘æµç¨‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%80%86%e5%90%91%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#é€†å‘æµç¨‹-nav`)" id="é€†å‘æµç¨‹-nav">
									é€†å‘æµç¨‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e8%a8%82%e5%96%ae%e7%8b%80%e6%85%8b" onclick="onNavClick(`#è¨‚å–®ç‹€æ…‹-nav`)" id="è¨‚å–®ç‹€æ…‹-nav">
									è¨‚å–®ç‹€æ…‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%89%8d%e7%ab%af%e9%a0%81%e9%9d%a2" onclick="onNavClick(`#å‰ç«¯é é¢-nav`)" id="å‰ç«¯é é¢-nav">
									å‰ç«¯é é¢
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%95%b4%e7%90%86%e5%90%84%e7%a8%aepojo%e8%88%87%e8%a6%8f%e7%af%84" onclick="onNavClick(`#æ•´ç†å„ç¨®pojoèˆ‡è¦ç¯„-nav`)" id="æ•´ç†å„ç¨®pojoèˆ‡è¦ç¯„-nav">
									æ•´ç†å„ç¨®POJOèˆ‡è¦ç¯„
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%af%a6%e4%bd%9c" onclick="onNavClick(`#å¯¦ä½œ-nav`)" id="å¯¦ä½œ-nav">
									å¯¦ä½œ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%99%bb%e5%85%a5%e6%94%94%e6%88%aa" onclick="onNavClick(`#ç™»å…¥æ””æˆª-nav`)" id="ç™»å…¥æ””æˆª-nav">
									ç™»å…¥æ””æˆª
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%a8%82%e5%96%ae%e7%a2%ba%e8%aa%8d%e9%a0%81" onclick="onNavClick(`#è¨‚å–®ç¢ºèªé -nav`)" id="è¨‚å–®ç¢ºèªé -nav">
									è¨‚å–®ç¢ºèªé 
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#service%e5%b1%a4" onclick="onNavClick(`#serviceå±¤-nav`)" id="serviceå±¤-nav">
									Serviceå±¤
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#feign%e4%b8%9f%e5%a4%b1%e8%ab%8b%e6%b1%82%e9%a0%ad" onclick="onNavClick(`#feignä¸Ÿå¤±è«‹æ±‚é ­-nav`)" id="feignä¸Ÿå¤±è«‹æ±‚é ­-nav">
									feignä¸Ÿå¤±è«‹æ±‚é ­
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%98%b2%e9%87%8d%e4%bb%a4%e7%89%8c" onclick="onNavClick(`#é˜²é‡ä»¤ç‰Œ-nav`)" id="é˜²é‡ä»¤ç‰Œ-nav">
									é˜²é‡ä»¤ç‰Œ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#å°çµ-nav`)" id="å°çµ-nav">
									å°çµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e9%a0%85%e7%9b%ae%e6%a8%a1%e7%b5%84%e7%9a%84%e7%ae%a1%e7%90%86" onclick="onNavClick(`#é …ç›®æ¨¡çµ„çš„ç®¡ç†-nav`)" id="é …ç›®æ¨¡çµ„çš„ç®¡ç†-nav">
									é …ç›®æ¨¡çµ„çš„ç®¡ç†
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%a8%98%e4%b8%80%e5%80%8b%e5%95%9f%e5%8b%95%e6%9c%8d%e5%8b%99%e7%9a%84bug" onclick="onNavClick(`#è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„bug-nav`)" id="è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„bug-nav">
									è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„BUG
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/">
                    é¦–é ğŸ 
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    ç³»åˆ—æ–‡ğŸ“–
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    æ¨™ç±¤ğŸ·ï¸
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about-me">
                    é—œæ–¼æˆ‘ğŸ£
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ç›®éŒ„ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%95%86%e5%9f%8e%e8%a8%82%e5%96%ae%e6%a8%a1%e7%b5%84" onclick="onNavClick(`#å•†åŸè¨‚å–®æ¨¡çµ„-nav`)" id="å•†åŸè¨‚å–®æ¨¡çµ„-nav">
									å•†åŸè¨‚å–®æ¨¡çµ„
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e8%a8%82%e5%96%ae%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#è¨‚å–®æµç¨‹-nav`)" id="è¨‚å–®æµç¨‹-nav">
									è¨‚å–®æµç¨‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%ad%a3%e5%90%91%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#æ­£å‘æµç¨‹-nav`)" id="æ­£å‘æµç¨‹-nav">
									æ­£å‘æµç¨‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%80%86%e5%90%91%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#é€†å‘æµç¨‹-nav`)" id="é€†å‘æµç¨‹-nav">
									é€†å‘æµç¨‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e8%a8%82%e5%96%ae%e7%8b%80%e6%85%8b" onclick="onNavClick(`#è¨‚å–®ç‹€æ…‹-nav`)" id="è¨‚å–®ç‹€æ…‹-nav">
									è¨‚å–®ç‹€æ…‹
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%89%8d%e7%ab%af%e9%a0%81%e9%9d%a2" onclick="onNavClick(`#å‰ç«¯é é¢-nav`)" id="å‰ç«¯é é¢-nav">
									å‰ç«¯é é¢
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%95%b4%e7%90%86%e5%90%84%e7%a8%aepojo%e8%88%87%e8%a6%8f%e7%af%84" onclick="onNavClick(`#æ•´ç†å„ç¨®pojoèˆ‡è¦ç¯„-nav`)" id="æ•´ç†å„ç¨®pojoèˆ‡è¦ç¯„-nav">
									æ•´ç†å„ç¨®POJOèˆ‡è¦ç¯„
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%af%a6%e4%bd%9c" onclick="onNavClick(`#å¯¦ä½œ-nav`)" id="å¯¦ä½œ-nav">
									å¯¦ä½œ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%99%bb%e5%85%a5%e6%94%94%e6%88%aa" onclick="onNavClick(`#ç™»å…¥æ””æˆª-nav`)" id="ç™»å…¥æ””æˆª-nav">
									ç™»å…¥æ””æˆª
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%a8%82%e5%96%ae%e7%a2%ba%e8%aa%8d%e9%a0%81" onclick="onNavClick(`#è¨‚å–®ç¢ºèªé -nav`)" id="è¨‚å–®ç¢ºèªé -nav">
									è¨‚å–®ç¢ºèªé 
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#service%e5%b1%a4" onclick="onNavClick(`#serviceå±¤-nav`)" id="serviceå±¤-nav">
									Serviceå±¤
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#feign%e4%b8%9f%e5%a4%b1%e8%ab%8b%e6%b1%82%e9%a0%ad" onclick="onNavClick(`#feignä¸Ÿå¤±è«‹æ±‚é ­-nav`)" id="feignä¸Ÿå¤±è«‹æ±‚é ­-nav">
									feignä¸Ÿå¤±è«‹æ±‚é ­
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%98%b2%e9%87%8d%e4%bb%a4%e7%89%8c" onclick="onNavClick(`#é˜²é‡ä»¤ç‰Œ-nav`)" id="é˜²é‡ä»¤ç‰Œ-nav">
									é˜²é‡ä»¤ç‰Œ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#å°çµ-nav`)" id="å°çµ-nav">
									å°çµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e9%a0%85%e7%9b%ae%e6%a8%a1%e7%b5%84%e7%9a%84%e7%ae%a1%e7%90%86" onclick="onNavClick(`#é …ç›®æ¨¡çµ„çš„ç®¡ç†-nav`)" id="é …ç›®æ¨¡çµ„çš„ç®¡ç†-nav">
									é …ç›®æ¨¡çµ„çš„ç®¡ç†
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%a8%98%e4%b8%80%e5%80%8b%e5%95%9f%e5%8b%95%e6%9c%8d%e5%8b%99%e7%9a%84bug" onclick="onNavClick(`#è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„bug-nav`)" id="è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„bug-nav">
									è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„BUG
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yoziming.github.io/">
            æŸšå­èŒ¶å®¤
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yoziming.github.io/">
        <div class="single-column-header-title">æŸšå­èŒ¶å®¤</div>
        
        <div class="single-column-header-subtitle">ç´€éŒ„è‡ªå­¸å¤§å°äº‹</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://yoziming.github.io/images/gulimall.png')"
                    
                
            >
                <div class="post-title">
                    ç¢ºèªè¨‚å–®ã€feignè«‹æ±‚é ­å•é¡Œ
                    
                    <div class="post-subtitle">
                        SpringBootå¾®æœå‹™é …ç›®ç­†è¨˜-19
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2022-02-05 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/java%E5%BE%AE%E6%9C%8D%E5%8B%99%E5%95%86%E5%9F%8E%E9%A0%85%E7%9B%AE">Javaå¾®æœå‹™å•†åŸé …ç›®</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/java">java</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="å•†åŸè¨‚å–®æ¨¡çµ„">å•†åŸè¨‚å–®æ¨¡çµ„</h1>
<blockquote>
<p>è¨‚å–®é€šå¸¸æ˜¯æœ€è¤‡é›œçš„æ¨¡çµ„ä¹‹ä¸€</p>
</blockquote>
<ul>
<li>æ¶‰åŠä¸‰æµ:
<ul>
<li>ä¿¡æ¯æµï¼šå•†å“ä¿¡æ¯ã€å„ªæƒ ä¿¡æ¯</li>
<li>è³‡é‡‘æµï¼šé€€æ¬¾ã€ä»˜æ¬¾</li>
<li>ç‰©æµï¼šç™¼é€ã€é€€è²¨</li>
</ul>
</li>
</ul>
<p><img src="image-20220128153241754.png" alt="image-20220128153241754"></p>
<h2 id="è¨‚å–®æµç¨‹">è¨‚å–®æµç¨‹</h2>
<blockquote>
<p>è¨‚å–®æµç¨‹æ˜¯æŒ‡å¾è¨‚å–®ç”¢ç”Ÿåˆ°å®Œæˆçš„éç¨‹</p>
</blockquote>
<ul>
<li>
<p>ä¸åŒçš„ç”¢å“é¡å‹æˆ–æ¥­å‹™é¡å‹åœ¨ç³»çµ±ä¸­çš„æµç¨‹æœƒåƒå·®è¬åˆ¥ï¼Œæ¯”å¦‚ç·šä¸Šå¯¦ç‰©è¨‚å–®å’Œè™›æ“¬è¨‚å–®èˆ‡o20è¨‚å–®ç­‰ï¼Œæ‰€ä»¥éœ€è¦æ ¹æ“šä¸åŒçš„é¡å‹é€²è¡Œæ§‹å»ºè¨‚å–®æµç¨‹</p>
</li>
<li>
<p>ä¸ç®¡é¡å‹å¦‚ä½•è¨‚å–®éƒ½åŒ…æ‹¬æ­£å‘æµç¨‹å’Œé€†å‘æµç¨‹ï¼Œå°æ‡‰çš„å ´æ™¯å°±æ˜¯è³¼è²·å•†å“å’Œé€€æ›è²¨æµç¨‹ï¼Œæ­£å‘æµç¨‹å°±æ˜¯ä¸€å€‹æ­£å¸¸çš„ç¶²è³¼æ­¥é©Ÿ</p>
<ul>
<li>è¨‚å–®ç”Ÿæˆ-&gt; æ”¯ä»˜è¨‚å–®-&gt; è³£å®¶ç™¼è²¨-&gt; ç¢ºèªæ”¶è²¨-&gt; äº¤æ˜“æˆåŠŸ</li>
</ul>
</li>
<li>
<p>è€Œæ¯å€‹æ­¥é©Ÿçš„èƒŒå¾Œï¼Œè¨‚å–®æ˜¯å¦‚ä½•åœ¨å¤šç³»çµ±ä¹‹é–“äº¤äº’æµè½‰çš„ï¼Œå¯æ¦‚æ‹¬å¦‚ä¸‹åœ–</p>
</li>
</ul>
<p><img src="1598670706087.png" alt="1598670706087"></p>
<h3 id="æ­£å‘æµç¨‹">æ­£å‘æµç¨‹</h3>
<ol>
<li>è¨‚å–®å‰µå»ºå‰éœ€è¦é è¦½è¨‚å–®ï¼Œé¸æ“‡æ”¶è²¨ä¿¡æ¯ç­‰</li>
<li>è¨‚å–®å‰µå»ºéœ€è¦é–å®šåº«å­˜ï¼Œåº«å­˜æœ‰æ‰å¯å‰µå»ºï¼Œå¦å‰‡ä¸èƒ½å‰µå»º</li>
<li>è¨‚å–®å‰µå»ºå¾Œè¶…æ™‚æœªæ”¯ä»˜éœ€è¦è§£é–åº«å­˜</li>
<li>æ”¯ä»˜æˆåŠŸå¾Œï¼Œéœ€è¦é€²è¡Œæ‹†å–®ï¼Œæ ¹æ“šå•†å“æ‰“åŒ…æ–¹å¼ï¼Œæ‰€åœ¨å€‰åº«ï¼Œç‰©æµç­‰é€²è¡Œæ‹†å–®</li>
<li>æ”¯ä»˜çš„æ¯ç­†æµæ°´éƒ½éœ€è¦è¨˜éŒ„ï¼Œä»¥å¾…æŸ¥è³¬</li>
<li>è¨‚å–®å‰µå»ºï¼Œæ”¯ä»˜æˆåŠŸç­‰ç‹€æ…‹éƒ½éœ€è¦çµ¦MQç™¼é€æ¶ˆæ¯ï¼Œæ–¹ä¾¿å…¶ä»–ç³»çµ±æ„ŸçŸ¥è¨‚é–²</li>
</ol>
<h3 id="é€†å‘æµç¨‹">é€†å‘æµç¨‹</h3>
<ol>
<li>ä¿®æ”¹è¨‚å–®ï¼Œç”¨æˆ·æ²’æœ‰æäº¤è¨‚å–®ï¼Œå¯ä»¥å°è¨‚å–®ä¸€äº›ä¿¡æ¯é€²è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚é…é€ä¿¡æ¯ï¼Œ</li>
<li>å„ªæƒ ä¿¡æ¯ï¼ŒåŠå…¶ä»–ä¸€äº›è¨‚å–®å¯ä¿®æ”¹ç¯„åœçš„å…§å®¹ï¼Œæ­¤æ™‚åªéœ€å°æ•¸æ“šé€²è¡Œè®Šæ›´å³å¯ã€‚</li>
<li>è¨‚å–®å–æ¶ˆï¼Œç”¨æˆ·ä¸»å‹•å–æ¶ˆè¨‚å–®å’Œç”¨æˆ·è¶…æ™‚æœªæ”¯ä»˜ï¼Œå…©ç¨®æƒ…æ³ä¸‹è¨‚å–®éƒ½æœƒå–æ¶ˆè¨‚å–®ï¼Œè€Œè¶…æ™‚æƒ…æ³æ˜¯ç³»çµ±è‡ªå‹•é—œé–‰è¨‚å–®ï¼Œæ‰€ä»¥åœ¨è¨‚å–®æ”¯ä»˜çš„éŸ¿æ‡‰æ©Ÿåˆ¶ä¸Šé¢è¦åšæ”¯ä»˜çš„</li>
</ol>
<h2 id="è¨‚å–®ç‹€æ…‹">è¨‚å–®ç‹€æ…‹</h2>
<ol>
<li>å¾…ä»˜æ¬¾: ç”¨æˆ·æäº¤è¨‚å–®å¾Œï¼Œè¨‚å–®é€²è¡Œé ä¸‹å–®ï¼Œç›®å‰ä¸»æµé›»å•†ç¶²ç«™éƒ½æœƒä¾¿æ–¼ç”¨æˆ·å¿«é€Ÿå®Œæˆæ”¯ä»˜ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¾…ä»˜æ¬¾ç‹€æ…‹ä¸‹å¯ä»¥å°åº«å­˜é€²è¡Œé–å®šï¼Œé–å®šåº«å­˜éœ€è¦é…ç½®æ”¯ä»˜è¶…æ™‚æ™‚é–“ï¼Œè¶…æ™‚å¾Œå°‡è‡ªå‹•å–æ¶ˆè¨‚å–®ï¼Œè¨‚å–®è®Šæ›´ç‚ºé—œé–‰ç‹€æ…‹</li>
<li>å·²ä»˜æ¬¾/å¾…ç™¼è²¨: ç”¨æˆ·å®Œæˆè¨‚å–®æ”¯ä»˜ï¼Œè¨‚å–®ç³»çµ±éœ€è¦è¨˜éŒ„æ”¯ä»˜æ™‚é–“ï¼Œæ”¯ä»˜æµæ°´å–®è™Ÿä¾¿æ–¼å°è³¬ï¼Œè¨‚å–®ä¸‹æ”¾åˆ°WMSç³»çµ±ï¼Œå€‰åº«é€²è¡Œèª¿æ’¥ï¼Œé…è²¨ï¼Œåˆ†æ€ï¼Œå‡ºåº«ç­‰æ“ä½œ</li>
<li>å¾…æ”¶è²¨/å·²ç™¼è²¨: å€‰å„²å°‡å•†å“å‡ºåº«å¾Œï¼Œè¨‚å–®é€²å…¥ç‰©æµç’°ç¯€ï¼Œè¨‚å–®ç³»çµ±éœ€è¦åŒæ­¥ç‰©æµä¿¡æ¯ï¼Œä¾¿æ–¼ç”¨æˆ·å¯¦æ™‚çŸ¥æ‚‰ç‰©å“ç‰©æµç‹€æ…‹</li>
<li>å·²å®Œæˆ: ç”¨æˆ·ç¢ºèªæ”¶è²¨å¾Œï¼Œè¨‚å–®äº¤æ˜“å®Œæˆã€‚å¾ŒçºŒæ”¯ä»˜å´é€²è¡Œçµç®—ï¼Œå¦‚æœè¨‚å–®å­˜åœ¨å•é¡Œé€²å…¥å”®å¾Œç‹€æ…‹</li>
<li>å·²å–æ¶ˆ: ä»˜æ¬¾ä¹‹å‰å–æ¶ˆè¨‚å–®ã€‚åŒ…æ‹¬è¶…æ™‚æœªä»˜æ¬¾æˆ–ç”¨æˆ·å•†æˆ·å–æ¶ˆè¨‚å–®éƒ½æœƒç”¢ç”Ÿé€™ç¨®è¨‚å–®ç‹€æ…‹</li>
<li>å”®å¾Œä¸­: ç”¨æˆ·åœ¨ä»˜æ¬¾å¾Œç”³è«‹é€€æ¬¾ï¼Œæˆ–å•†å®¶ç™¼è²¨å¾Œç”¨æˆ·ç”³è«‹é€€æ›è²¨ã€‚å”®å¾Œä¹ŸåŒæ¨£å­˜åœ¨å„ç¨®ç‹€æ…‹ï¼Œç•¶ç™¼èµ·å”®å¾Œç”³è«‹å¾Œç”Ÿæˆå”®å¾Œè¨‚å–®ï¼Œå”®å¾Œè¨‚å–®ç‹€æ…‹ç‚ºå¾…å¯©æ ¸ï¼Œç­‰å¾…å•†å®¶å¯©æ ¸ï¼Œå•†å®¶å¯©æ ¸é€šéå¾Œè¨‚å–®ç‹€æ…‹è®Šæ›´ç‚ºå¾…é€€è²¨ï¼Œç­‰å¾…ç”¨æˆ·å°‡å•†å“å¯„å›ï¼Œå•†å®¶æ”¶è²¨å¾Œè¨‚å–®ç‹€æ…‹æ›´æ–°ç‚ºå¾…é€€æ¬¾ç‹€æ…‹ï¼Œé€€æ¬¾åˆ°ç”¨æˆ·åŸè³¬æˆ·å¾Œè¨‚å–®ç‹€æ…‹æ›´æ–°ç‚ºå”®å¾ŒæˆåŠŸ</li>
</ol>
<h2 id="å‰ç«¯é é¢">å‰ç«¯é é¢</h2>
<p>ç­‰å¾…ä»˜æ¬¾ï¼Œè©³æƒ…é ï¼š</p>
<p><img src="1598667020590.png" alt="1598667020590"></p>
<p><img src="1598667039261.png" alt="1598667039261"></p>
<p>è¨‚å–®é ï¼š</p>
<p><img src="1598667069559.png" alt="1598667069559"></p>
<p>æ”¶éŠ€é ï¼š</p>
<p><img src="1598667165660.png" alt="1598667165660"></p>
<h2 id="æ•´ç†å„ç¨®pojoèˆ‡è¦ç¯„">æ•´ç†å„ç¨®POJOèˆ‡è¦ç¯„</h2>
<ul>
<li>feignåŒ…æ”¾åœ¨commonæ¨¡çµ„ä¸‹ï¼Œç”¨TO(Transfer Object)ä¾†è·¨æ¨¡çµ„æ¥æ”¶ã€å‚³éç‰©ä»¶</li>
<li>VO(View Object) æ˜¯å°ˆé–€è¿”å›çµ¦å‰ç«¯ã€çµ¦äººçœ‹çš„æ±è¥¿</li>
<li>Entityå¯¦é«”ï¼Œä¹Ÿç¨±ç‚ºPO(Persistant Object)ï¼Œå±¬æ€§åŸºæœ¬å’Œè³‡æ–™è¡¨æ¬„ä½ä¸€ä¸€å°æ‡‰ã€‚ä¸€å€‹å¯¦é«”å³æ˜¯çœŸå¯¦å­˜åœ¨çš„ä¸€ç­†è³‡æ–™ï¼Œå¿…é ˆè¦æœ‰å”¯ä¸€æ¨™è­˜(ä¾‹å¦‚id)ä»¥å€åˆ†å…¶å®ƒå¯¦é«”</li>
<li>DAO(Data Access Object)å°è£äº†POåœ¨è³‡æ–™åº«çš„CRUDç­‰æ“ä½œ</li>
</ul>
<h1 id="å¯¦ä½œ">å¯¦ä½œ</h1>
<p><img src="image-20220129163611607.png" alt="image-20220129163611607"></p>
<h2 id="ç™»å…¥æ””æˆª">ç™»å…¥æ””æˆª</h2>
<blockquote>
<p>é»çµç®—æ™‚ï¼Œæ²’ç™»å…¥å°±è®“ç”¨æˆ¶å…ˆå»ç™»å…¥</p>
</blockquote>
<ul>
<li>LoginUserInterceptor.java
<ul>
<li>è¨˜å¾—é€ ä¸€å€‹configå¯¦ç¾WebMvcConfigurerè¨»å†Šæ””æˆªå™¨</li>
<li>æ””æˆªå™¨è¨˜å¾—ç”¨<code>@Component</code>è®“springè¼‰å…¥</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * ç™»å…¥æ””æˆªå™¨
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * å¾sessionä¸­ç²å–äº†ç™»å…¥ä¿¡æ¯ï¼ˆredisä¸­ï¼‰ï¼Œå°è£åˆ°äº†ThreadLocalä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">LoginUserInterceptor</span> <span style="color:#8b008b;font-weight:bold">implements</span> HandlerInterceptor {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">static</span> ThreadLocal&lt;MemberResponseTo&gt; loginUser = <span style="color:#8b008b;font-weight:bold">new</span> ThreadLocal&lt;&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">boolean</span> <span style="color:#008b45">preHandle</span>(HttpServletRequest request, HttpServletResponse response, Object handler) <span style="color:#8b008b;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// ç²å–ç™»å…¥çš„ç”¨æˆ¶ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        MemberResponseTo attribute = (MemberResponseTo) request.<span style="color:#658b00">getSession</span>().<span style="color:#658b00">getAttribute</span>(LOGIN_USER);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">if</span> (attribute != <span style="color:#8b008b;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// æŠŠç™»å…¥å¾Œç”¨æˆ¶çš„ä¿¡æ¯æ”¾åœ¨ThreadLocalè£¡é¢é€²è¡Œä¿å­˜
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            loginUser.<span style="color:#658b00">set</span>(attribute);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#8b008b;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#8b008b;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// æœªç™»å…¥ï¼Œè¿”å›ç™»å…¥é é¢
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            response.<span style="color:#658b00">setContentType</span>(<span style="color:#cd5555">&#34;text/html;charset=UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>            PrintWriter out = response.<span style="color:#658b00">getWriter</span>();
</span></span><span style="display:flex;"><span>            out.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;&lt;script&gt;alert(&#39;è«‹å…ˆé€²è¡Œç™»å…¥ï¼Œå†é€²è¡Œå¾ŒçºŒæ“ä½œï¼&#39;);location.href=&#39;http://auth.mall.com/login.html&#39;&lt;/script&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// session.setAttribute(&#34;msg&#34;, &#34;è«‹å…ˆé€²è¡Œç™»å…¥&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            <span style="color:#228b22">// response.sendRedirect(&#34;http://auth.mall.com/login.html&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#8b008b;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="è¨‚å–®ç¢ºèªé ">è¨‚å–®ç¢ºèªé </h2>
<ul>
<li>å¾è³¼ç‰©è»Šé»äº†å»çµç®—ï¼Œå°±ä¾†åˆ°é€™</li>
</ul>
<p><img src="1598667130041.png" alt="1598667130041"></p>
<ul>
<li>OrderConfirmVo.java</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * è¨‚å–®ç¢ºèªé éœ€è¦ç”¨çš„æ•¸æ“š
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">OrderConfirmVo</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * æœƒå“¡æ”¶è²¨åœ°å€åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     **/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Getter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Setter</span>
</span></span><span style="display:flex;"><span>    List&lt;MemberAddressTo&gt; memberAddressTos;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * æ‰€æœ‰é¸ä¸­çš„è³¼ç‰©é …ã€è³¼ç‰©è»Šä¸­çš„æ‰€æœ‰é …ã€‘
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     **/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Getter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Setter</span>
</span></span><span style="display:flex;"><span>    List&lt;OrderItemTo&gt; items;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * å„ªæƒ åˆ¸ï¼ˆæœƒå“¡ç©åˆ†ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     **/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Getter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Setter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">private</span> Integer integration;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * é˜²æ­¢é‡è¤‡æäº¤çš„ä»¤ç‰Œ å†ªç­‰æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     **/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Getter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Setter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">private</span> String orderToken;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Getter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Setter</span>
</span></span><span style="display:flex;"><span>    Map&lt;Long, Boolean&gt; stocks;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">public</span> Integer <span style="color:#008b45">getCount</span>() {
</span></span><span style="display:flex;"><span>        Integer count = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">if</span> (items != <span style="color:#8b008b;font-weight:bold">null</span> &amp;&amp; items.<span style="color:#658b00">size</span>() &gt; 0) {
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">for</span> (OrderItemTo item : items) {
</span></span><span style="display:flex;"><span>                count += item.<span style="color:#658b00">getCount</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">return</span> count;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * ç¸½å•†å“é‡‘é¡
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     **/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">//BigDecimal total;
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#228b22">//è¨ˆç®—è¨‚å–®ç¸½é¡
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#8b008b;font-weight:bold">public</span> BigDecimal <span style="color:#008b45">getTotal</span>() {
</span></span><span style="display:flex;"><span>        BigDecimal totalNum = BigDecimal.<span style="color:#658b00">ZERO</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">if</span> (items != <span style="color:#8b008b;font-weight:bold">null</span> &amp;&amp; items.<span style="color:#658b00">size</span>() &gt; 0) {
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">for</span> (OrderItemTo item : items) {
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">//è¨ˆç®—ç•¶å‰å•†å“çš„ç¸½åƒ¹æ ¼
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                BigDecimal itemPrice = item.<span style="color:#658b00">getPrice</span>().<span style="color:#658b00">multiply</span>(<span style="color:#8b008b;font-weight:bold">new</span> BigDecimal(item.<span style="color:#658b00">getCount</span>().<span style="color:#658b00">toString</span>()));
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">//å†è¨ˆç®—å…¨éƒ¨å•†å“çš„ç¸½åƒ¹æ ¼
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                totalNum = totalNum.<span style="color:#658b00">add</span>(itemPrice);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">return</span> totalNum;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>OrderWebController.java</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// å»çµç®—ç¢ºèªé 
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#707a7c">@GetMapping</span>(value = <span style="color:#cd5555">&#34;/toTrade&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> String <span style="color:#008b45">toTrade</span>(Model model, HttpServletRequest request) <span style="color:#8b008b;font-weight:bold">throws</span> ExecutionException, InterruptedException {
</span></span><span style="display:flex;"><span>    OrderConfirmVo confirmVo = orderService.<span style="color:#658b00">confirmOrder</span>();
</span></span><span style="display:flex;"><span>    model.<span style="color:#658b00">addAttribute</span>(<span style="color:#cd5555">&#34;confirmOrderData&#34;</span>, confirmVo);
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// å±•ç¤ºè¨‚å–®ç¢ºèªçš„æ•¸æ“š
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#cd5555">&#34;confirm&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="serviceå±¤">Serviceå±¤</h3>
<ul>
<li>é€™é‚Šæœ‰2å€‹çŸ¥è­˜é»: feignä¸Ÿå¤±è«‹æ±‚é ­ã€é˜²é‡ä»¤ç‰Œï¼Œåœ¨ä¸‹é¢åˆ†åˆ¥å±•é–‹</li>
<li>OrderServiceImpl.java</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * è¨‚å–®ç¢ºèªé è¿”å›éœ€è¦ç”¨çš„æ•¸æ“š
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> *
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> OrderConfirmVo <span style="color:#008b45">confirmOrder</span>() <span style="color:#8b008b;font-weight:bold">throws</span> ExecutionException, InterruptedException {
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// æ§‹å»ºOrderConfirmVo
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    OrderConfirmVo confirmVo = <span style="color:#8b008b;font-weight:bold">new</span> OrderConfirmVo();
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ç²å–ç•¶å‰ç”¨æˆ¶ç™»å…¥çš„ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    MemberResponseTo memberResponseTo = LoginUserInterceptor.<span style="color:#658b00">loginUser</span>.<span style="color:#658b00">get</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ç²å–ç•¶å‰ç·šç¨‹è«‹æ±‚é ­ä¿¡æ¯(è§£æ±ºFeignç•°æ­¥èª¿ç”¨ä¸Ÿå¤±è«‹æ±‚é ­å•é¡Œ)
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    RequestAttributes requestAttributes = RequestContextHolder.<span style="color:#658b00">getRequestAttributes</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// é–‹å•Ÿç¬¬ä¸€å€‹ç•°æ­¥ä»»å‹™
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    CompletableFuture&lt;Void&gt; addressFuture = CompletableFuture.<span style="color:#658b00">runAsync</span>(() -&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// æ¯ä¸€å€‹ç·šç¨‹éƒ½ä¾†å…±äº«ä¹‹å‰çš„è«‹æ±‚æ•¸æ“š
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        RequestContextHolder.<span style="color:#658b00">setRequestAttributes</span>(requestAttributes);
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// é ç¨‹æŸ¥è©¢æ‰€æœ‰çš„æ”¶è²¨åœ°å€åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        List&lt;MemberAddressTo&gt; address = memberFeignService.<span style="color:#658b00">getAddress</span>(memberResponseTo.<span style="color:#658b00">getId</span>());
</span></span><span style="display:flex;"><span>        confirmVo.<span style="color:#658b00">setMemberAddressTos</span>(address);
</span></span><span style="display:flex;"><span>    }, threadPoolExecutor);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// é–‹å•Ÿç¬¬äºŒå€‹ç•°æ­¥ä»»å‹™
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    CompletableFuture&lt;Void&gt; cartInfoFuture = CompletableFuture.<span style="color:#658b00">runAsync</span>(() -&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// æ¯ä¸€å€‹ç·šç¨‹éƒ½ä¾†å…±äº«ä¹‹å‰çš„è«‹æ±‚æ•¸æ“šã€è§£æ±ºç•°æ­¥ThreadLocal ç„¡æ³•å…±äº«æ•¸æ“šã€‘
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        RequestContextHolder.<span style="color:#658b00">setRequestAttributes</span>(requestAttributes);
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// é ç¨‹æŸ¥è©¢è³¼ç‰©è»Šæ‰€æœ‰é¸ä¸­çš„è³¼ç‰©é …
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        List&lt;OrderItemTo&gt; currentCartItems = cartFeignService.<span style="color:#658b00">getCurrentCartItems</span>();
</span></span><span style="display:flex;"><span>        confirmVo.<span style="color:#658b00">setItems</span>(currentCartItems);
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// feignåœ¨é ç¨‹èª¿ç”¨ä¹‹å‰è¦æ§‹é€ è«‹æ±‚ï¼Œæœƒèª¿ç”¨å¾ˆå¤šçš„æ””æˆªå™¨
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    }, threadPoolExecutor).<span style="color:#658b00">thenRunAsync</span>(() -&gt; {
</span></span><span style="display:flex;"><span>        List&lt;OrderItemTo&gt; items = confirmVo.<span style="color:#658b00">getItems</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// ç²å–å…¨éƒ¨å•†å“çš„id
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        List&lt;Long&gt; skuIds = items.<span style="color:#658b00">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#658b00">map</span>((itemVo -&gt; itemVo.<span style="color:#658b00">getSkuId</span>()))
</span></span><span style="display:flex;"><span>                .<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">toList</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// é ç¨‹æŸ¥è©¢å•†å“åº«å­˜ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        R skuHasStock = wareFeignService.<span style="color:#658b00">getSkuHasStock</span>(skuIds);
</span></span><span style="display:flex;"><span>        List&lt;SkuStockVo&gt; skuStockVos = skuHasStock.<span style="color:#658b00">getData</span>(<span style="color:#cd5555">&#34;data&#34;</span>, <span style="color:#8b008b;font-weight:bold">new</span> TypeReference&lt;List&lt;SkuStockVo&gt;&gt;() {
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">if</span> (skuStockVos != <span style="color:#8b008b;font-weight:bold">null</span> &amp;&amp; skuStockVos.<span style="color:#658b00">size</span>() &gt; 0) {
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// å°‡skuStockVosé›†åˆè½‰æ›ç‚ºmap
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            Map&lt;Long, Boolean&gt; skuHasStockMap =
</span></span><span style="display:flex;"><span>                    skuStockVos.<span style="color:#658b00">stream</span>().<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">toMap</span>(SkuStockVo::getSkuId, SkuStockVo::getHasStock));
</span></span><span style="display:flex;"><span>            confirmVo.<span style="color:#658b00">setStocks</span>(skuHasStockMap);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }, threadPoolExecutor);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// æŸ¥è©¢ç”¨æˆ¶ç©åˆ†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    Integer integration = memberResponseTo.<span style="color:#658b00">getIntegration</span>();
</span></span><span style="display:flex;"><span>    confirmVo.<span style="color:#658b00">setIntegration</span>(integration);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// åƒ¹æ ¼æ•¸æ“šè¨ˆç®—å¯«åœ¨VOäº†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// é˜²é‡ä»¤ç‰Œ(é˜²æ­¢è¡¨å–®é‡è¤‡æäº¤)
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#228b22">// ç‚ºç”¨æˆ¶è¨­ç½®ä¸€å€‹tokenï¼Œä¸‰ååˆ†é˜éæœŸæ™‚é–“ï¼ˆå­˜åœ¨redisï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    String token = UUID.<span style="color:#658b00">randomUUID</span>().<span style="color:#658b00">toString</span>().<span style="color:#658b00">replace</span>(<span style="color:#cd5555">&#34;-&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    redisTemplate.<span style="color:#658b00">opsForValue</span>().<span style="color:#658b00">set</span>(USER_ORDER_TOKEN_PREFIX + memberResponseTo.<span style="color:#658b00">getId</span>(), token, 30,
</span></span><span style="display:flex;"><span>            TimeUnit.<span style="color:#658b00">MINUTES</span>);
</span></span><span style="display:flex;"><span>    confirmVo.<span style="color:#658b00">setOrderToken</span>(token);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    CompletableFuture.<span style="color:#658b00">allOf</span>(addressFuture, cartInfoFuture).<span style="color:#658b00">get</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">return</span> confirmVo;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="feignä¸Ÿå¤±è«‹æ±‚é ­">feignä¸Ÿå¤±è«‹æ±‚é ­</h4>
<p><img src="image-20220128164501873.png" alt="image-20220128164501873"></p>
<ul>
<li>
<p>feignçš„æœ¬è³ªä¹Ÿæ˜¯http requestï¼Œå®ƒçš„åº•å±¤ä»£ç¢¼æœƒé€ ä¸€å€‹RequestTemplateæ¨¡æ¿ï¼Œåœ¨é€™æ™‚å€™æœƒä¸Ÿå¤±åŸæœ‰çš„è«‹æ±‚é ­è¨Šæ¯(cookieæ²’äº†)</p>
<ul>
<li>è·Ÿnginxè½‰ç™¼ä¸Ÿå¤±hostæœ‰é»åƒ</li>
</ul>
</li>
<li>
<p>å¯ä»¥åœ¨feignèª¿ç”¨çš„æ™‚å€™å°±ä¸è¦ä¾è³´cookieç­‰è«‹æ±‚é ­è¨Šæ¯ï¼Œé¡å¤–å‚³é€ä¾‹å¦‚userIdç­‰è¨Šæ¯ä½œç‚ºåƒæ•¸</p>
</li>
</ul>
<h5 id="ä¿ç•™é ­è§£æ³•">ä¿ç•™é ­è§£æ³•</h5>
<p><img src="image-20220128165903146.png" alt="image-20220128165903146"></p>
<ul>
<li>
<p>é‚£å€‹RequestTemplateæ§‹é€ çš„æ™‚å€™å·¥å» æœƒèª¿ç”¨å®ƒè‡ªå·±çš„RequestInterceptor(é è¨­æ˜¯ç©º)ï¼Œæˆ‘å€‘æ‰‹å‹•é‡å¯«å…¶ä¸­çš„applyæ–¹æ³•ï¼Œåœ¨é€™é‚ŠæŠŠé ­åŠ å›å»</p>
<ul>
<li>é€éSpringçµ¦çš„RequestContextHolderä¾†æš«å­˜é ­è³‡è¨Šï¼Œé€™ç©æ„å°±æ˜¯å°è£éçš„ThreadLocal</li>
</ul>
</li>
<li>
<p>FeignConfig.java</p>
<ul>
<li>
<p>è¨»è§£ <code>@Configuration</code></p>
</li>
<li>
<p>åœ¨feignæ¥å£æŒ‡å®šä½¿ç”¨è¨­å®šï¼Œä¾‹å¦‚:</p>
</li>
<li>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#707a7c">@FeignClient</span>(name = <span style="color:#cd5555">&#34;cart&#34;</span>, configuration = FeignConfig.<span style="color:#658b00">class</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">interface</span> <span style="color:#008b45;font-weight:bold">CartFeignService</span> {
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * feignæ””æˆªå™¨åŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * è§£æ±ºfeign é ç¨‹è«‹æ±‚é ­ä¸Ÿå¤±å•é¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> **/</span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">FeignConfig</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#707a7c">@Bean</span>(<span style="color:#cd5555">&#34;requestInterceptor&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">public</span> RequestInterceptor <span style="color:#008b45">requestInterceptor</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        RequestInterceptor requestInterceptor = <span style="color:#8b008b;font-weight:bold">new</span> RequestInterceptor() {
</span></span><span style="display:flex;"><span>            <span style="color:#707a7c">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">apply</span>(RequestTemplate template) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;feigné ç¨‹èª¿ç”¨ï¼Œæ””æˆªåŒ…è£è«‹æ±‚é ­&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">// ä½¿ç”¨RequestContextHolderæ‹¿åˆ°å‰›é€²ä¾†çš„è«‹æ±‚æ•¸æ“š
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                ServletRequestAttributes requestAttributes = (ServletRequestAttributes) RequestContextHolder.<span style="color:#658b00">getRequestAttributes</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">if</span> (requestAttributes != <span style="color:#8b008b;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                    HttpServletRequest request = requestAttributes.<span style="color:#658b00">getRequest</span>();<span style="color:#228b22">//è€è«‹æ±‚
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                    <span style="color:#8b008b;font-weight:bold">if</span> (request != <span style="color:#8b008b;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                        <span style="color:#228b22">// åŒæ­¥è«‹æ±‚é ­çš„æ•¸æ“šï¼ˆä¸»è¦æ˜¯cookieï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                        <span style="color:#228b22">// æŠŠè€è«‹æ±‚çš„cookieå€¼æ”¾åˆ°æ–°è«‹æ±‚ä¸Šä¾†ï¼Œé€²è¡Œä¸€å€‹åŒæ­¥
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                        String cookie = request.<span style="color:#658b00">getHeader</span>(<span style="color:#cd5555">&#34;Cookie&#34;</span>);
</span></span><span style="display:flex;"><span>                        template.<span style="color:#658b00">header</span>(<span style="color:#cd5555">&#34;Cookie&#34;</span>, cookie);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">return</span> requestInterceptor;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>æˆ‘é‚„æ˜¯æœ‰é»æ²’å¼„æ¸…å®ƒé€™å€‹è¨­å®šè¼‰å…¥çš„ç´°ç¯€ï¼Œå› ç‚ºæˆ‘feignåŒ…æ˜¯æ”¾åœ¨commonä¹‹ä¸‹ï¼Œç•¶æˆ‘æŠŠFeignConfigä¹Ÿæ”¾åœ¨commonï¼Œå°±éœ€è¦åœ¨è¨»è§£æŒ‡å®šconfiguration = FeignConfig.classæ‰èƒ½ç”Ÿæ•ˆ</li>
<li>é—œæ–¼Feignè¨­å®šçš„ç´°ç¯€åƒè€ƒ : <a href="https://www.twblogs.net/a/5da0a13ebd9eee541c34e853">https://www.twblogs.net/a/5da0a13ebd9eee541c34e853</a></li>
<li>æˆ‘ç•¶åˆæ˜¯çœ‹äº†é€™ç¯‡ <a href="https://www.cnblogs.com/mindzone/p/15315273.html">https://www.cnblogs.com/mindzone/p/15315273.html</a> æ±ºå®šæŠŠfeingæ”¾åœ¨commonçš„ï¼Œæˆ‘æ„Ÿè¦ºé€™æ¨£ç¢ºå¯¦æ¯”è¼ƒæ•´é½Š</li>
</ul>
<p><img src="image-20220129150346004.png" alt="image-20220129150346004"></p>
<h5 id="ç•°æ­¥å•é¡Œ">ç•°æ­¥å•é¡Œ</h5>
<ul>
<li>ç„¶è€Œåˆæœ‰å•é¡Œï¼Œå› ç‚ºä¸€å€‹è€è«‹æ±‚é€²ä¾†ï¼Œæˆ‘å€‘æ˜¯é–‹ç·šç¨‹æ± å»ç•°æ­¥èª¿ç”¨å„å€‹feignï¼Œç›¸ç•¶æ–¼æ›ç·šç¨‹äº†ï¼Œæ‰€ä»¥èª¿ç”¨ä¹‹å‰è¦æ‰‹å‹•å…±äº«è«‹æ±‚çš„è³‡æ–™</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ç²å–ç•¶å‰ç·šç¨‹è«‹æ±‚é ­ä¿¡æ¯(è§£æ±ºFeignç•°æ­¥èª¿ç”¨ä¸Ÿå¤±è«‹æ±‚é ­å•é¡Œ)
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>RequestAttributes requestAttributes = RequestContextHolder.<span style="color:#658b00">getRequestAttributes</span>();
</span></span><span style="display:flex;"><span><span style="color:#228b22">// é–‹å•Ÿç¬¬ä¸€å€‹ç•°æ­¥ä»»å‹™
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>CompletableFuture&lt;Void&gt; addressFuture = CompletableFuture.<span style="color:#658b00">runAsync</span>(() -&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// æ¯ä¸€å€‹ç·šç¨‹éƒ½ä¾†å…±äº«ä¹‹å‰çš„è«‹æ±‚æ•¸æ“š
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    RequestContextHolder.<span style="color:#658b00">setRequestAttributes</span>(requestAttributes);
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// é ç¨‹æŸ¥è©¢æ‰€æœ‰çš„æ”¶è²¨åœ°å€åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    List&lt;MemberAddressTo&gt; address = memberFeignService.<span style="color:#658b00">getAddress</span>(memberResponseTo.<span style="color:#658b00">getId</span>());
</span></span><span style="display:flex;"><span>    confirmVo.<span style="color:#658b00">setMemberAddressTos</span>(address);
</span></span><span style="display:flex;"><span>}, threadPoolExecutor);
</span></span></code></pre></div><h5 id="è¿”å›å•é¡Œ">è¿”å›å•é¡Œ</h5>
<ul>
<li>è¢«é ç¨‹èª¿ç”¨çš„controllerï¼Œæƒ³è¦å®ƒè¿”å›Toé¡ï¼Œåœ¨æ–¹æ³•ä¸Šè¦è¨˜å¾—è¨»è§£<code>@ResponseBody</code>ï¼Œæˆ–æ˜¯ç›´æ¥æ•´å€‹ç”¨<code>@RestController</code></li>
</ul>
<h4 id="é˜²é‡ä»¤ç‰Œ">é˜²é‡ä»¤ç‰Œ</h4>
<ul>
<li>æ¯æ¬¡ä¾†åˆ°ç¢ºèªé ï¼Œç”Ÿæˆä¸€å€‹éš¨æ©ŸUUIDçš„ä»¤ç‰Œï¼Œé–‹é ­ä»¥ç”¨æˆ¶IDå‘½åï¼Œä¸¦ä¸”è¨­æœ‰éæœŸæ™‚é–“</li>
<li>æŠŠé€™å€‹ä»¤ç‰Œä¹Ÿè¿”å›çµ¦å‰ç«¯ï¼Œç•¶ç”¨æˆ¶æäº¤è¨‚å–®æ™‚ï¼Œæœƒå¸¶ä¸Šé€™å€‹ä»¤ç‰Œ</li>
</ul>
<p><img src="image-20220129172028442.png" alt="image-20220129172028442"></p>
<ul>
<li>å¦‚æœç”¨æˆ¶åœ¨ç¢ºèªé F5ï¼Œæœƒåˆ·æ–°ä»¤ç‰Œã€‚å¾ŒçºŒé©—è­‰æ¶‰åŠè¦“ç­‰æ€§å•é¡Œï¼Œä¸‹ç« ç¹¼çºŒ</li>
</ul>
<h1 id="å°çµ">å°çµ</h1>
<h2 id="é …ç›®æ¨¡çµ„çš„ç®¡ç†">é …ç›®æ¨¡çµ„çš„ç®¡ç†</h2>
<ul>
<li>æœ¬ä¾†å­¸äº†ä¸€æ‹›æ˜¯å»ºä¸€å€‹ç©ºçš„çˆ¶æ¨¡çµ„ç”¨<code>&lt;dependencyManagement&gt;</code>çµ±ä¸€ç®¡ç†ç‰ˆæœ¬ï¼Œç„¶è€Œåœ¨åˆ†å¸ƒå¼å¾®æœå‹™é …ç›®æˆ‘æ„Ÿè¦ºé€™åˆä¸å¤ªå¥½
<ul>
<li>ç¬¬ä¸€å€‹ç¼ºé»æ˜¯æ¯æ¬¡æ–°å»ºå­æ¨¡çµ„éƒ½è¦èª¿æ•´<code>&lt;parent&gt;</code></li>
<li>ç¬¬äºŒæ˜¯å¤šäº†ä¸€å±¤ä¾è³´åˆ°äº†åˆ†å¸ƒå¼åè€Œè®Šå¾—ä¸ç›´è§€</li>
<li>å°ˆæ¡ˆå…§å¿…å®šæœ‰commonæ¨¡çµ„ï¼Œæ—¢ç„¶å¤§å®¶éƒ½è¦å¼•ç”¨å®ƒï¼Œé å®ƒå°±èƒ½å¯¦ç¾ç‰ˆæœ¬ç®¡ç†ï¼Œçˆ¶æ¨¡çµ„åŠŸèƒ½é‡å¾©äº†</li>
</ul>
</li>
<li>æˆ‘æƒ³çš„æ˜¯æ—¢ç„¶å¤§å®¶éƒ½æœƒå¼•ç”¨commonï¼Œé‚£å…±é€šæ€§çš„ä¾è³´å°±åœ¨commonçµ±ä¸€ç®¡ç†ç‰ˆæœ¬ã€‚è€Œæ¨¡çµ„è‡ªå·±é¡å¤–å¼•ç”¨çš„ä¾è³´ï¼Œå°±é è‡ªå·±ç®¡ç†ç‰ˆæœ¬ï¼Œé€™æ¨£å°±æ¯”è¼ƒç›´è§€ã€ç¨ç«‹ï¼Œä¸æœƒæƒ³çœ‹å€‹ç‰ˆæœ¬é‚„è¦ç¿»å¥½å¹¾å±¤</li>
<li>å¦å¤–å°±æ˜¯feignä½ç½®ï¼Œæˆ‘æ„Ÿè¦ºé‚„æ˜¯çµ±ä¸€æŠ½å‡ºæ”¾åœ¨commonæ›´å¥½ï¼Œæœ‰è·¨æ¨¡çµ„é–“æºé€šçš„beanä¹Ÿéƒ½æ”¾åœ¨é€™é‚Šçš„TOåŒ…ä¸‹</li>
<li>å…¶ä»–å­æ¨¡çµ„çš„VOå°±å°ˆæ³¨æ–¼è‡ªå·±è¿”å›çµ¦å‰ç«¯çš„ç”¨é€”ï¼Œé€™æ¨£å°±ä¸æœƒæå¾—æ¯å€‹æ¨¡çµ„éƒ½æœ‰ä¸€å †VOè·ŸTOå¾ˆäº‚ï¼Œä¹Ÿå¯ä»¥æœçµ•æœ‰æ™‚å€™æƒ³å·æ‡¶æŠŠVOèˆ‡TOæ··ç”¨çš„å¯èƒ½</li>
</ul>
<h2 id="è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„bug">è¨˜ä¸€å€‹å•Ÿå‹•æœå‹™çš„BUG</h2>
<ul>
<li>æˆ‘ä¹Ÿä¸ç¢ºå®šåˆ°åº•å‹•åˆ°å“ªé‚Šï¼Œå¤§æ¦‚æ˜¯æ‰¹æ¬¡å–ä»£éŒ¯å­—çš„æ™‚å€™æ”¹åˆ°</li>
<li>å‘ˆç¾çš„BUGç‹€æ…‹å°±æ˜¯å•Ÿå‹•Aæœå‹™çš„æ™‚å€™ï¼ŒAæœå‹™è¼‰å…¥çš„ç«Ÿç„¶æ˜¯Bæœå‹™çš„application.propertiesï¼Œå‘ˆç¾ä¸€ç¨®æ··è¡€ç‹€æ…‹ï¼Œç„¶è€Œæ€éº¼å¾©åŸæ˜æ˜å°±éƒ½è·Ÿä»¥å‰ä¸€æ¨£äº†ï¼Œå»é‚„æ˜¯ä¸è¡Œï¼ŒåŒªå¤·æ‰€æ€</li>
<li>è§£æ³•: æŠŠæ‰€æœ‰targetè³‡æ–™å¤¾å…¨ç äº†ï¼Œå„å€‹æœå‹™é‡æ–°buildä¸€æ¬¡å°±å¥½äº†</li>
<li>æ•™è¨“: å¤šå¤šå‚³gitæ–¹ä¾¿å‡ºäº‹å¥½é‚„åŸã€æœ‰æ™‚å€™BUGå¯èƒ½ç™¼ç”Ÿåœ¨å»ºæ§‹å‡ºä¾†çš„æª”æ¡ˆï¼Œå¯ä»¥æ•´å€‹è³‡æ–™å¤¾ç æ‰é‡æ–°git cloneä¸€ä»½ä¹¾æ·¨çš„ä¸‹ä¾†</li>
</ul>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">ä¸Šæ¬¡ä¿®æ”¹æ–¼ 2022-02-05</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yoziming.github.io/post/220205-git-common-use/">
			ä¸‹ä¸€ç¯‡<br>æ•´ç†å¸¸ç”¨çš„gitæ“ä½œ
                </a>
                
                
                
                <a class="older-posts" href="https://yoziming.github.io/post/220204-gulimall-18-rabbitmq/">
			ä¸Šä¸€ç¯‡<br>RabbitMQèˆ‡è¨Šæ¯ç¢ºèª
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://waline-pn38gfwbz-yoziming.vercel.app/" ,
		lang: 'en-US',
		visitor: true,
		meta: ['nick', 'mail'],
    });
    </script>



            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ç§»æ¤è‡ª <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
