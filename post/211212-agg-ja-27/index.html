<!DOCTYPE html>
<html><head>
<meta name="google-site-verification" content="XrwF-xUZWSGJVBBm7jM8vqemVqx--zo5Tb9d-Vr7BCc" />
<title>IOæµ:ç‰©ä»¶æµã€åºåˆ—åŒ–ã€éš¨æ©Ÿè®€å¯«æµèˆ‡NIO</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="å°šç¡…è°·JavaSEç­†è¨˜-27">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="IOæµ:ç‰©ä»¶æµã€åºåˆ—åŒ–ã€éš¨æ©Ÿè®€å¯«æµèˆ‡NIO" />
<meta property="og:description" content="å°šç¡…è°·JavaSEç­†è¨˜-27" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yoziming.github.io/post/211212-agg-ja-27/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-12-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-12T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />






<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="IOæµ:ç‰©ä»¶æµã€åºåˆ—åŒ–ã€éš¨æ©Ÿè®€å¯«æµèˆ‡NIO"/>
<meta name="twitter:description" content="å°šç¡…è°·JavaSEç­†è¨˜-27"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  




<link rel="icon" href="https://yoziming.github.io/images/favicon.png">



<link rel="stylesheet" href="https://yoziming.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yoziming.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>











<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>





</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yoziming.github.io/">
    
        <div class="nav-title">
            æŸšå­èŒ¶å®¤
        </div>
        
        <div class="nav-subtitle">
            ç´€éŒ„è‡ªå­¸å¤§å°äº‹
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/">
                é¦–é ğŸ 
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                æ¨™ç±¤ğŸ·ï¸
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                ç³»åˆ—æ–‡ğŸ“–
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about-me">
                é—œæ–¼æˆ‘ğŸ£
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ç§»æ¤è‡ª <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ç›®éŒ„ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%a8%99%e6%ba%96%e8%bc%b8%e5%87%ba%e5%85%a5%e6%b5%81" onclick="onNavClick(`#æ¨™æº–è¼¸å‡ºå…¥æµ-nav`)" id="æ¨™æº–è¼¸å‡ºå…¥æµ-nav">
									æ¨™æº–è¼¸å‡º/å…¥æµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#print%e6%b5%81" onclick="onNavClick(`#printæµ-nav`)" id="printæµ-nav">
									Printæµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%95%b8%e6%93%9a%e6%b5%81" onclick="onNavClick(`#æ•¸æ“šæµ-nav`)" id="æ•¸æ“šæµ-nav">
									æ•¸æ“šæµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%89%a9%e4%bb%b6%e6%b5%81" onclick="onNavClick(`#ç‰©ä»¶æµ-nav`)" id="ç‰©ä»¶æµ-nav">
									ç‰©ä»¶æµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%ba%8f%e5%88%97%e5%8c%96" onclick="onNavClick(`#åºåˆ—åŒ–-nav`)" id="åºåˆ—åŒ–-nav">
									åºåˆ—åŒ–
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#randomaccessfile%e9%a1%9e" onclick="onNavClick(`#randomaccessfileé¡-nav`)" id="randomaccessfileé¡-nav">
									RandomAccessFileé¡
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%89%b9%e6%80%a7" onclick="onNavClick(`#ç‰¹æ€§-nav`)" id="ç‰¹æ€§-nav">
									ç‰¹æ€§
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%af%a6%e4%be%8b%e5%8c%96" onclick="onNavClick(`#å¯¦ä¾‹åŒ–-nav`)" id="å¯¦ä¾‹åŒ–-nav">
									å¯¦ä¾‹åŒ–
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%af%84%e4%be%8b-%e6%8f%92%e5%85%a5%e5%ad%97%e4%b8%b2" onclick="onNavClick(`#ç¯„ä¾‹-æ’å…¥å­—ä¸²-nav`)" id="ç¯„ä¾‹-æ’å…¥å­—ä¸²-nav">
									ç¯„ä¾‹-æ’å…¥å­—ä¸²
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%94%b9%e8%89%af-%e9%81%bf%e5%85%8d%e4%ba%82%e7%a2%bc" onclick="onNavClick(`#æ”¹è‰¯-é¿å…äº‚ç¢¼-nav`)" id="æ”¹è‰¯-é¿å…äº‚ç¢¼-nav">
									æ”¹è‰¯-é¿å…äº‚ç¢¼
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#nio" onclick="onNavClick(`#nio-nav`)" id="nio-nav">
									NIO
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#path%e6%8e%a5%e5%8f%a3" onclick="onNavClick(`#pathæ¥å£-nav`)" id="pathæ¥å£-nav">
									Pathæ¥å£
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#å°çµ-nav`)" id="å°çµ-nav">
									å°çµ
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/">
                    é¦–é ğŸ 
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    æ¨™ç±¤ğŸ·ï¸
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    ç³»åˆ—æ–‡ğŸ“–
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about-me">
                    é—œæ–¼æˆ‘ğŸ£
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ç›®éŒ„ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%a8%99%e6%ba%96%e8%bc%b8%e5%87%ba%e5%85%a5%e6%b5%81" onclick="onNavClick(`#æ¨™æº–è¼¸å‡ºå…¥æµ-nav`)" id="æ¨™æº–è¼¸å‡ºå…¥æµ-nav">
									æ¨™æº–è¼¸å‡º/å…¥æµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#print%e6%b5%81" onclick="onNavClick(`#printæµ-nav`)" id="printæµ-nav">
									Printæµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%95%b8%e6%93%9a%e6%b5%81" onclick="onNavClick(`#æ•¸æ“šæµ-nav`)" id="æ•¸æ“šæµ-nav">
									æ•¸æ“šæµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%89%a9%e4%bb%b6%e6%b5%81" onclick="onNavClick(`#ç‰©ä»¶æµ-nav`)" id="ç‰©ä»¶æµ-nav">
									ç‰©ä»¶æµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%ba%8f%e5%88%97%e5%8c%96" onclick="onNavClick(`#åºåˆ—åŒ–-nav`)" id="åºåˆ—åŒ–-nav">
									åºåˆ—åŒ–
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#randomaccessfile%e9%a1%9e" onclick="onNavClick(`#randomaccessfileé¡-nav`)" id="randomaccessfileé¡-nav">
									RandomAccessFileé¡
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%89%b9%e6%80%a7" onclick="onNavClick(`#ç‰¹æ€§-nav`)" id="ç‰¹æ€§-nav">
									ç‰¹æ€§
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%af%a6%e4%be%8b%e5%8c%96" onclick="onNavClick(`#å¯¦ä¾‹åŒ–-nav`)" id="å¯¦ä¾‹åŒ–-nav">
									å¯¦ä¾‹åŒ–
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%af%84%e4%be%8b-%e6%8f%92%e5%85%a5%e5%ad%97%e4%b8%b2" onclick="onNavClick(`#ç¯„ä¾‹-æ’å…¥å­—ä¸²-nav`)" id="ç¯„ä¾‹-æ’å…¥å­—ä¸²-nav">
									ç¯„ä¾‹-æ’å…¥å­—ä¸²
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%94%b9%e8%89%af-%e9%81%bf%e5%85%8d%e4%ba%82%e7%a2%bc" onclick="onNavClick(`#æ”¹è‰¯-é¿å…äº‚ç¢¼-nav`)" id="æ”¹è‰¯-é¿å…äº‚ç¢¼-nav">
									æ”¹è‰¯-é¿å…äº‚ç¢¼
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#nio" onclick="onNavClick(`#nio-nav`)" id="nio-nav">
									NIO
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#path%e6%8e%a5%e5%8f%a3" onclick="onNavClick(`#pathæ¥å£-nav`)" id="pathæ¥å£-nav">
									Pathæ¥å£
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#å°çµ-nav`)" id="å°çµ-nav">
									å°çµ
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yoziming.github.io/">
            æŸšå­èŒ¶å®¤
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yoziming.github.io/">
        <div class="single-column-header-title">æŸšå­èŒ¶å®¤</div>
        
        <div class="single-column-header-subtitle">ç´€éŒ„è‡ªå­¸å¤§å°äº‹</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://yoziming.github.io/images/java-book.jpg')"
                    
                
            >
                <div class="post-title">
                    IOæµ:ç‰©ä»¶æµã€åºåˆ—åŒ–ã€éš¨æ©Ÿè®€å¯«æµèˆ‡NIO
                    
                    <div class="post-subtitle">
                        å°šç¡…è°·JavaSEç­†è¨˜-27
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2021-12-12 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/javase%E7%B7%9A%E4%B8%8A%E8%AA%B2">JavaSEç·šä¸Šèª²</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/java">Java</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="æ¨™æº–è¼¸å‡ºå…¥æµ">æ¨™æº–è¼¸å‡º/å…¥æµ</h1>
<ul>
<li><code>System.in</code>:æ¨™æº–è¼¸å…¥å­—ç¯€æµï¼Œé è¨­æ˜¯å¾éµç›¤è¼¸å…¥ï¼Œé¡å‹æ˜¯<code>InputStream</code></li>
<li><code>System.out</code>:æ¨™æº–è¼¸å‡ºæµï¼Œé è¨­è¼¸å‡ºåˆ°æ§åˆ¶å°ï¼Œé¡å‹æ˜¯<code>PrintStream</code>ï¼Œç¹¼æ‰¿è‡ª<code>FilterOutputStream</code>ï¼Œç¹¼æ‰¿è‡ª<code>OutputStream</code></li>
</ul>
<h5 id="é‡å®šå‘æ–¹æ³•">é‡å®šå‘æ–¹æ³•</h5>
<ul>
<li><code>public static void setIn(InputStream in)</code></li>
<li><code>public static void setOut(PrintStream out)</code></li>
</ul>
<h5 id="ç¯„ä¾‹-è®€å–è¼¸å…¥">ç¯„ä¾‹-è®€å–è¼¸å…¥</h5>
<blockquote>
<p>ä¸ä½¿ç”¨<code>scanner</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">static</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">main</span>(String[] args) {
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// æŠŠæ¨™æº–è¼¸å…¥å­—ç¯€æµå…ˆè½‰æ›æˆå­—ç¬¦æµ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    BufferedReader bufferedReader = <span style="color:#8b008b;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        InputStreamReader isr = <span style="color:#8b008b;font-weight:bold">new</span> InputStreamReader(System.<span style="color:#658b00">in</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// æŠŠå­—ç¬¦æµç”¨bufferedReaderåŒ…èµ·ä¾†ï¼Œç‚ºäº†èª¿ç”¨readlineæ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        bufferedReader = <span style="color:#8b008b;font-weight:bold">new</span> BufferedReader(isr);
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">for</span> (; <span style="color:#8b008b;font-weight:bold">true</span>; ) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;è¼¸å…¥è¦è½‰æ›æˆå¤§å¯«çš„å­—ä¸²...&#34;</span>);
</span></span><span style="display:flex;"><span>            String str = bufferedReader.<span style="color:#658b00">readLine</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">if</span> (<span style="color:#cd5555">&#34;exit&#34;</span>.<span style="color:#658b00">equalsIgnoreCase</span>(str)) { <span style="color:#228b22">// &#34;exit&#34;æ”¾å‰é¢é˜²ç©ºæŒ‡é‡
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;é›¢é–‹&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(str.<span style="color:#658b00">toUpperCase</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    } <span style="color:#8b008b;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>        e.<span style="color:#658b00">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#8b008b;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            bufferedReader.<span style="color:#658b00">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#8b008b;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#658b00">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="printæµ">Printæµ</h3>
<blockquote>
<p>åªæœ‰è¼¸å‡ºï¼Œåªæœƒè¼¸å‡º</p>
</blockquote>
<p>ä¸æ˜¯ç‰¹åˆ¥é‡è¦ï¼Œèªè­˜ä¸€ä¸‹æœ‰é€™2å€‹<code>PrintStream</code>ã€<code>PrintWriter</code></p>
<h5 id="ç¯„ä¾‹-å¯«log">ç¯„ä¾‹-å¯«log</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">static</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">main</span>(String[] args) <span style="color:#8b008b;font-weight:bold">throws</span> FileNotFoundException {
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// é€ ä¸€å€‹è¼¸å‡ºåˆ°æª”æ¡ˆçš„æµ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    FileOutputStream fileOutputStream = <span style="color:#8b008b;font-weight:bold">new</span> FileOutputStream(<span style="color:#cd5555">&#34;abc.txt&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// é€ ä¸€å€‹Printè¼¸å‡ºæµ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    PrintStream printStream = <span style="color:#8b008b;font-weight:bold">new</span> PrintStream(fileOutputStream, <span style="color:#8b008b;font-weight:bold">true</span>);<span style="color:#228b22">// trueè¡¨ç¤ºè‡ªå‹•flush
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#228b22">// å°‡ç³»çµ±æ¨™æº–è¼¸å‡ºé‡å®šå‘åˆ°Printè¼¸å‡ºæµ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    System.<span style="color:#658b00">setOut</span>(printStream);
</span></span><span style="display:flex;"><span>    System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;åŸæœ¬æƒ³å°åœ¨æ§åˆ¶å°ï¼Œç¾åœ¨å°åˆ°æª”æ¡ˆabc.txtè£¡äº†!&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="æ•¸æ“šæµ">æ•¸æ“šæµ</h1>
<blockquote>
<p>ç”¨æ–¼è®€å–æˆ–å¯«å‡º<code>String</code>æˆ–åŸºæœ¬æ•¸æ“šé¡å‹ï¼Œåªæœ‰å­—ç¯€æµ</p>
</blockquote>
<ul>
<li>
<p><code>DataOutputStream</code>:å°‡è¨˜æ†¶é«”ä¸­çš„æ•¸æ“šå¯«åˆ°æ–‡ä»¶æª”æ¡ˆä¸­ï¼Œé€™å€‹æ–‡ä»¶åŸºæœ¬ä¸èƒ½çµ¦äººçœ‹ï¼Œå› ç‚ºå¯èƒ½æœ‰å¥‡å¥‡æ€ªæ€ªæ¯”å¦‚<code>string</code>ã€<code>int</code>ã€<code>boolean</code></p>
</li>
<li>
<p><code>DataInputStream</code>:å°‡æ–‡ä»¶æª”æ¡ˆä¸­çš„æ•¸æ“šè®€å–è¨˜æ†¶é«”ä¸­ï¼Œå¯«çš„æ™‚å€™é¡å‹æ€å¯«ï¼Œè®€çš„æ™‚å€™ä¹Ÿå¿…é ˆç…§é †åºè®€ï¼Œå¦å‰‡å ±ç•°å¸¸</p>
</li>
<li>
<p>å¥—åœ¨å°æ‡‰çš„<code>in/outputStream</code>å­—ç¯€æµçš„å­é¡ä½¿ç”¨ï¼Œèˆ‰ä¾‹:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#8b008b;font-weight:bold">static</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">main</span>(String[] args) <span style="color:#8b008b;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>    DataOutputStream dataOutputStream = <span style="color:#8b008b;font-weight:bold">new</span> DataOutputStream(<span style="color:#8b008b;font-weight:bold">new</span> FileOutputStream(<span style="color:#cd5555">&#34;data.txt&#34;</span>));
</span></span><span style="display:flex;"><span>    dataOutputStream.<span style="color:#658b00">writeUTF</span>(<span style="color:#cd5555">&#34;å¼µä¸‰&#34;</span>);
</span></span><span style="display:flex;"><span>    dataOutputStream.<span style="color:#658b00">flush</span>(); <span style="color:#228b22">// åˆ·æ–°ï¼Œç¢ºå¯¦å¯«åˆ°æ–‡ä»¶ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    dataOutputStream.<span style="color:#658b00">writeBoolean</span>(<span style="color:#8b008b;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>    dataOutputStream.<span style="color:#658b00">flush</span>();
</span></span><span style="display:flex;"><span>    dataOutputStream.<span style="color:#658b00">writeFloat</span>(654321.<span style="color:#658b00">56465421f</span>);
</span></span><span style="display:flex;"><span>    dataOutputStream.<span style="color:#658b00">flush</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    DataInputStream dataInputStream = <span style="color:#8b008b;font-weight:bold">new</span> DataInputStream(<span style="color:#8b008b;font-weight:bold">new</span> FileInputStream(<span style="color:#cd5555">&#34;data.txt&#34;</span>));
</span></span><span style="display:flex;"><span>    System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(dataInputStream.<span style="color:#658b00">readUTF</span>());
</span></span><span style="display:flex;"><span>    System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(dataInputStream.<span style="color:#658b00">readBoolean</span>());
</span></span><span style="display:flex;"><span>    System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(dataInputStream.<span style="color:#658b00">readFloat</span>());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h1 id="ç‰©ä»¶æµ">ç‰©ä»¶æµ</h1>
<h3 id="åºåˆ—åŒ–">åºåˆ—åŒ–</h3>
<ul>
<li>
<p>å®šç¾©:å°‡ä¸€å€‹<code>Javaç‰©ä»¶</code>è½‰æ›ç‚ºäºŒé€²åˆ¶æª”æ¡ˆï¼Œç”¨ä»¥é€šä¿¡äº¤æ›æˆ–ä¿å­˜</p>
</li>
<li>
<p>æ¢ä»¶:</p>
<ul>
<li>ç‰©ä»¶çš„é¡æ»¿è¶³<code>Serializable</code>æ¥å£æˆ–<code>Externalizable</code>æ¥å£</li>
<li>åœ¨é¡è²æ˜ç‰ˆæœ¬æ¨™è­˜è™Ÿ:<code>private static final</code> <code>long</code> <code>serialVersionUID</code>ï¼Œç”¨ä»¥ä½œç‚ºååºåˆ—åŒ–æ™‚çš„ç‰ˆæœ¬ä¾æ“šï¼Œ
<ul>
<li>æ¯”å¦‚ç¬¬ä¸€ä»£<code>person</code>é¡è™Ÿç¢¼æ˜¯001ï¼Œç‰©ä»¶&quot;<code>å°æ˜</code>&ldquo;å­˜æˆä¸€å€‹<code>dat</code>æª”æ¡ˆ</li>
<li>å¾Œä¾†<code>person</code>é¡æ›´æ–°äº†ï¼Œå¤šåŠ äº†æ€§åˆ¥å±¬æ€§ï¼Œç‰©ä»¶&rdquo;<code>é˜¿èŠ±-å¥³</code>&ldquo;å­˜æˆçš„<code>dat</code>æª”æ¡ˆèˆ‡ç•¶åˆå°æ˜çš„é¡¯ç„¶æ ¼å¼ä¸åŒäº†ï¼Œæ‰€ä»¥å¿…é ˆæ›´æ”¹ç‰ˆæœ¬æ¨™ç¤ºè™Ÿ</li>
<li>å¦‚æœä¸é¡¯å¼è²æ˜æ¨™ç¤ºè™Ÿï¼Œæ¯æ¬¡ç·¨è­¯éƒ½æœƒè‡ªå‹•çµ¦ä¸€å€‹ï¼Œååºåˆ—åŒ–æ™‚å¯èƒ½å ±éŒ¯</li>
<li>ç”¨<code>private</code>æ˜¯å› ç‚º<code>serialVersionUID</code>é¡¯ç„¶ä¸è©²ä¹Ÿä¸èƒ½è¢«ç¹¼æ‰¿</li>
</ul>
</li>
<li>é¡ä¸­æ‰€æœ‰çš„å±¬æ€§ä¹Ÿéƒ½å¿…é ˆæ˜¯å¯åºåˆ—åŒ–çš„(åŸºæœ¬æ•¸æ“šé¡å‹å¤©ç”Ÿå¯ä»¥ï¼Œè¦æ³¨æ„çš„æ˜¯å¼•ç”¨å…¶ä»–é¡çš„æƒ…æ³)</li>
</ul>
</li>
<li>
<p>é¿å…åºåˆ—åŒ–:</p>
<ul>
<li><code>static</code>:è¡¨ç¤ºè©²å±¬æ€§æˆ–æ–¹æ³•æ˜¯å±¬æ–¼<code>é¡æœ¬èº«</code>ï¼Œ<code>ç‰©ä»¶</code>è¢«åºåˆ—åŒ–ç•¶ç„¶ä¸é—œæˆ‘çš„äº‹ï¼›æœ‰æ™‚å€™å¯èƒ½æœƒè¿·æƒ‘æŸå±¬æ€§ç”¨<code>static</code>ä¿®é£¾äº†ä¸€æ¨£èƒ½å¯«èƒ½è®€ï¼Œå¯¦éš›ä¸Šé‚£æ˜¯<code>JVM</code>å¾å°æ‡‰é¡ä¸­æ‹¿åˆ°çš„å€¼è€Œéååºåˆ—åŒ–è€Œä¾†</li>
<li><code>transient</code>:æš«æ™‚çš„ï¼Œç™¼éŸ³&quot;tran-æ´—-ent&rdquo;ï¼Œé¡§åæ€ç¾©åªå­˜åœ¨è¨˜æ†¶é«”ä¸­ä¸å¯¦éš›å¯«å‡ºï¼›æ³¨æ„é€™é‚Šè¬›çš„æ˜¯<code>Serializable</code>æ¥å£ï¼Œæ­¤æ¥å£ç‰¹æ€§æ˜¯æœƒè‡ªå‹•åºåˆ—åŒ–
<ul>
<li>å¦‚æœæ˜¯é€éå¯¦ç¾<code>Externalizable</code>æ¥å£è€…ï¼Œéœ€è¦åœ¨<code>writeExternal</code>æ–¹æ³•æ‰‹å‹•æŒ‡å®šè¦åºåˆ—åŒ–çš„è®Šé‡ï¼Œè©²æ–¹æ³•æœƒè“‹é<code>transient</code>çš„ä¿®é£¾</li>
</ul>
</li>
</ul>
</li>
<li>
<p>åºåˆ—åŒ–æ˜¯RMIï¼ŒRemote Method Invocation(é ç«¯æ–¹æ³•å‘¼å«)ï¼Œæ˜¯å…è¨±åŸ·è¡Œåœ¨ä¸€å€‹Javaè™›æ“¬æ©Ÿå™¨çš„ç‰©ä»¶å‘¼å«åŸ·è¡Œåœ¨å¦ä¸€å€‹Javaè™›æ“¬æ©Ÿå™¨ä¸Šçš„ç‰©ä»¶çš„æ–¹æ³•ï¼Œé§­å®¢å¸¸ç”¨ååºåˆ—åŒ–çš„éç¨‹åšå£äº‹ï¼Œè¦æ³¨æ„å®‰å…¨æ¼æ´</p>
</li>
<li>
<p>ååºåˆ—åŒ–:ç›¸åçš„éç¨‹ï¼Œèˆ‰ä¾‹:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ObjectOutputStream oos = <span style="color:#8b008b;font-weight:bold">new</span> ObjectOutputStream(<span style="color:#8b008b;font-weight:bold">new</span> FileOutputStream(<span style="color:#cd5555">&#34;data.dat&#34;</span>));
</span></span><span style="display:flex;"><span>oos.<span style="color:#658b00">writeObject</span>(<span style="color:#8b008b;font-weight:bold">new</span> String(<span style="color:#cd5555">&#34;å¤©ç·šå¯¶å¯¶èªªä½ å¥½&#34;</span>));
</span></span><span style="display:flex;"><span>oos.<span style="color:#658b00">flush</span>();
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;å°‡ç‰©ä»¶åºåˆ—åŒ–ç‚ºæª”æ¡ˆæˆåŠŸ&#34;</span>);
</span></span><span style="display:flex;"><span>ObjectInputStream ois = <span style="color:#8b008b;font-weight:bold">new</span> ObjectInputStream(<span style="color:#8b008b;font-weight:bold">new</span> FileInputStream(<span style="color:#cd5555">&#34;data.dat&#34;</span>));
</span></span><span style="display:flex;"><span>Object obj = ois.<span style="color:#658b00">readObject</span>();
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;ååºåˆ—åŒ–ï¼Œé‚„åŸæˆç‰©ä»¶...&#34;</span>);
</span></span><span style="display:flex;"><span>String str = (String) obj;
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(str);
</span></span></code></pre></div></li>
</ul>
<h1 id="randomaccessfileé¡">RandomAccessFileé¡</h1>
<blockquote>
<p>éš¨æ©Ÿè®€å¯«æµï¼Œ&ldquo;éš¨æ©Ÿ&quot;å…¶å¯¦&quot;ä»»æ„&quot;çš„æ„æ€</p>
</blockquote>
<h3 id="ç‰¹æ€§">ç‰¹æ€§</h3>
<ul>
<li>è²æ˜åœ¨<code>java.io</code>åŒ…ä¸‹ï¼Œç›´æ¥ç¹¼æ‰¿æ–¼<code>java.io.Object</code>é¡</li>
<li>å¯¦ç¾äº†<code>DataInput</code>èˆ‡<code>DataOutput</code>æ¥å£ï¼Œé›™é ­é¾</li>
<li>æ”¯æŒéš¨æ©Ÿè¨ªå•ï¼Œæƒ³è®€å¯«å“ªé‚Šå°±è®€å¯«å“ªé‚Š</li>
<li>å…¶ç‰©ä»¶åŒ…å«äº†ä¸€å€‹ç´€éŒ„æŒ‡é‡ï¼Œç”¨ä»¥æ¨™ç¤ºç•¶å‰è®€å¯«ä½ç½®</li>
<li>å¯ä»¥è‡ªç”±ç§»å‹•æŒ‡é‡ä½ç½®ï¼Œé€éæ–¹æ³•:
<ul>
<li><code>long getFilePointer()</code>:ç²å–ç•¶å‰æŒ‡é‡ä½ç½®</li>
<li><code>void seek(long pos)</code>:å°‡æŒ‡é‡ç§»åˆ°pos</li>
</ul>
</li>
</ul>
<h3 id="å¯¦ä¾‹åŒ–">å¯¦ä¾‹åŒ–</h3>
<p>æ§‹é€ å™¨:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#008b45">RandomAccessFile</span>(File file, String mode)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#008b45">RandomAccessFile</span>(String name, String mode)
</span></span></code></pre></div><p><code>mode</code>:åƒæ•¸ï¼Œæ±ºå®šè¨ªå•æ¨¡å¼</p>
<ul>
<li><code>r</code>:åªè®€ï¼Œå¦‚æœæª”æ¡ˆä¸å­˜åœ¨å°±å ±ç•°å¸¸</li>
<li><code>rw</code>:è®€å¯«ï¼Œå¦‚æœæª”æ¡ˆä¸å­˜åœ¨å°±å‰µå»ºï¼›ç”¨<code>write()</code>æ–¹æ³•å¦‚æœæª”æ¡ˆå­˜åœ¨æœƒå°&quot;å…§å®¹&quot;é€²è¡Œè¦†è“‹ï¼Œä¸”é è¨­å¾é ­é–‹å§‹è¦†è“‹</li>
<li><code>rwd</code>:è®€å¯«ä¸¦åŒæ­¥æ›´æ–°å…§å®¹</li>
<li><code>rws</code>:è®€å¯«ä¸¦åŒæ­¥æ›´æ–°å…§å®¹åŠå…ƒæ•¸æ“š</li>
</ul>
<p>ç¯„ä¾‹:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// å¯¦ä¾‹åŒ–
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>RandomAccessFile rw = <span style="color:#8b008b;font-weight:bold">new</span> RandomAccessFile(<span style="color:#8b008b;font-weight:bold">new</span> File(<span style="color:#cd5555">&#34;hello.txt&#34;</span>), <span style="color:#cd5555">&#34;rw&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// å°‡stringè½‰ç‚ºbyteç·¨ç¢¼å¯«å…¥
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>rw.<span style="color:#658b00">write</span>(<span style="color:#cd5555">&#34;12345abcde&#34;</span>.<span style="color:#658b00">getBytes</span>(StandardCharsets.<span style="color:#658b00">UTF_8</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// åœ¨æœ«å°¾è¿½åŠ ï¼Œç›¸ç•¶æ–¼append
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>rw.<span style="color:#658b00">seek</span>(<span style="color:#8b008b;font-weight:bold">new</span> File(<span style="color:#cd5555">&#34;hello.txt&#34;</span>).<span style="color:#658b00">length</span>());
</span></span><span style="display:flex;"><span>rw.<span style="color:#658b00">write</span>(<span style="color:#cd5555">&#34;zzz&#34;</span>.<span style="color:#658b00">getBytes</span>(StandardCharsets.<span style="color:#658b00">UTF_8</span>));
</span></span></code></pre></div><h3 id="ç¯„ä¾‹-æ’å…¥å­—ä¸²">ç¯„ä¾‹-æ’å…¥å­—ä¸²</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">test1</span>() <span style="color:#8b008b;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>    RandomAccessFile rw = <span style="color:#8b008b;font-weight:bold">new</span> RandomAccessFile(<span style="color:#8b008b;font-weight:bold">new</span> File(<span style="color:#cd5555">&#34;hello.txt&#34;</span>), <span style="color:#cd5555">&#34;rw&#34;</span>);
</span></span><span style="display:flex;"><span>    rw.<span style="color:#658b00">seek</span>(5); <span style="color:#228b22">// å°‡æŒ‡é‡ç§»åˆ°5
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#228b22">// é€ ä¸€å€‹StringBuilderç”¨ä»¥ä¿å­˜5ä»¥å¾Œçš„è³‡æ–™
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    StringBuilder builder = <span style="color:#8b008b;font-weight:bold">new</span> StringBuilder(Math.<span style="color:#658b00">toIntExact</span>(<span style="color:#8b008b;font-weight:bold">new</span> File(<span style="color:#cd5555">&#34;hello.txt&#34;</span>).<span style="color:#658b00">length</span>()));
</span></span><span style="display:flex;"><span>    <span style="color:#00688b;font-weight:bold">byte</span>[] buf = <span style="color:#8b008b;font-weight:bold">new</span> <span style="color:#00688b;font-weight:bold">byte</span>[20];
</span></span><span style="display:flex;"><span>    <span style="color:#00688b;font-weight:bold">int</span> len;
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">while</span> ((len = rw.<span style="color:#658b00">read</span>(buf)) != -1) { <span style="color:#228b22">// å°‡è®€å–çš„&#34;å¾Œé¢çš„&#34;è³‡æ–™å¯«é€²buf
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        builder.<span style="color:#658b00">append</span>(<span style="color:#8b008b;font-weight:bold">new</span> String(buf, 0, len)); <span style="color:#228b22">// å°‡bufå¯«å…¥builder
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    }
</span></span><span style="display:flex;"><span>    rw.<span style="color:#658b00">seek</span>(5); <span style="color:#228b22">// å°‡æŒ‡é‡ç§»å†ç§»å›5ï¼Œå› ç‚ºreadä¹Ÿæœƒå‹•æŒ‡é‡
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    rw.<span style="color:#658b00">write</span>(<span style="color:#cd5555">&#34;***INSERT***&#34;</span>.<span style="color:#658b00">getBytes</span>(StandardCharsets.<span style="color:#658b00">UTF_8</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// å¯«å›å¾Œé¢çš„éƒ¨åˆ†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    rw.<span style="color:#658b00">write</span>(builder.<span style="color:#658b00">toString</span>().<span style="color:#658b00">getBytes</span>(StandardCharsets.<span style="color:#658b00">UTF_8</span>));
</span></span><span style="display:flex;"><span>	rw.<span style="color:#658b00">close</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ç”¨ä¸­æ–‡å¯èƒ½æœƒäº‚ç¢¼ï¼Œå› ç‚ºä¸­æ–‡å­—æ˜¯3å€‹Byteï¼Œreadåˆ°bufå¯«å…¥builderçš„æ™‚å€™è¢«åˆ‡å£äº†
</span></span></span></code></pre></div><h3 id="æ”¹è‰¯-é¿å…äº‚ç¢¼">æ”¹è‰¯-é¿å…äº‚ç¢¼</h3>
<blockquote>
<p>ä½¿ç”¨ByteArrayOutputStream</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>rw.<span style="color:#658b00">seek</span>(6); <span style="color:#228b22">// å°‡æŒ‡é‡ç§»
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">// è§£æ±ºäº‚ç¢¼ï¼Œç”¨ByteArrayOutputStream
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>ByteArrayOutputStream baos = <span style="color:#8b008b;font-weight:bold">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span><span style="color:#00688b;font-weight:bold">byte</span>[] buf = <span style="color:#8b008b;font-weight:bold">new</span> <span style="color:#00688b;font-weight:bold">byte</span>[32];
</span></span><span style="display:flex;"><span><span style="color:#00688b;font-weight:bold">int</span> len;
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">while</span> ((len = rw.<span style="color:#658b00">read</span>(buf)) != -1) { <span style="color:#228b22">// å°‡è®€å–çš„&#34;å¾Œé¢çš„&#34;è³‡æ–™å¯«é€²buf
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    baos.<span style="color:#658b00">write</span>(buf, 0, len);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>rw.<span style="color:#658b00">seek</span>(6); <span style="color:#228b22">// å°‡æŒ‡é‡ç§»å†ç§»å›ï¼Œå› ç‚ºreadä¹Ÿæœƒå‹•æŒ‡é‡
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>rw.<span style="color:#658b00">write</span>(<span style="color:#cd5555">&#34;ä¸­æ–‡ä¸­æ–‡&#34;</span>.<span style="color:#658b00">getBytes</span>(StandardCharsets.<span style="color:#658b00">UTF_8</span>));
</span></span><span style="display:flex;"><span><span style="color:#228b22">// å¯«å›å¾Œé¢çš„éƒ¨åˆ†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>rw.<span style="color:#658b00">write</span>(baos.<span style="color:#658b00">toString</span>().<span style="color:#658b00">getBytes</span>(StandardCharsets.<span style="color:#658b00">UTF_8</span>));
</span></span><span style="display:flex;"><span><span style="color:#228b22">// é‚„è¦æ³¨æ„ä¸€é–‹å§‹seekçš„ä½ç½®ï¼Œä¸€é–‹å§‹å°±åˆ‡åœ¨è¦å®³(ä¾‹å¦‚å¥‡æ•¸ä½)ä¹Ÿæœƒå°è‡´å°éƒ¨åˆ†äº‚ç¢¼
</span></span></span></code></pre></div><h1 id="nio">NIO</h1>
<blockquote>
<p>JDK4å¼•å…¥äº†NIOï¼Œ(Non-blocking I/O)ï¼Œéé˜»å¡å¼ï¼ŒåŠ å…¥è§€å¯Ÿèˆ‡é€šçŸ¥çš„æ©Ÿåˆ¶</p>
<p>JDK7å¼·åŠ›æ›´æ–°æˆNIO.2ç‰ˆæœ¬ï¼Œä¹‹å¾Œèªªçš„NIOåŸºæœ¬éƒ½æ˜¯æŒ‡é€™å€‹</p>
</blockquote>
<ul>
<li>IOä¸»è¦æ˜¯æµæœ¬èº«ï¼ŒNIOæ˜¯ä»¥ç·©è¡å€ã€ç®¡é“ç‚ºå°å‘ï¼Œè®€å¯«æ•ˆç‡æ›´é«˜</li>
<li>ä½æ–¼<code>java.nio.channels.Channel</code>ï¼Œå…¶ä¸‹æœ‰å…©å¥—NIO:
<ul>
<li>è™•ç†æœ¬åœ°æ–‡ä»¶<code>FileChannel</code></li>
<li>è™•ç†ç¶²è·¯:<code>SocketChannel</code>ã€<code>ServerSocketChannel</code>ã€<code>DatagramChannel</code></li>
</ul>
</li>
</ul>
<h3 id="pathæ¥å£">Pathæ¥å£</h3>
<ul>
<li>ç”¨ä»¥å–ä»£<code>File</code>é¡</li>
<li>å¯¦ä¾‹åŒ–:
<ul>
<li><code>static Path get(String first, String â€¦ more)</code>:ç”¨æ–¼å°‡å¤šå€‹å­—ä¸²ä¸²é€£æˆè·¯å¾‘</li>
<li><code>static Path get(URI uri)</code>:è¿”å›æŒ‡å®šuriå°æ‡‰çš„Pathè·¯å¾‘</li>
</ul>
</li>
</ul>
<h5 id="pathsé¡">Pathsé¡</h5>
<blockquote>
<p><code>Paths</code>æ˜¯å·¥å…·é¡ï¼Œé™¤äº†ä¸Šé¢å…©ç¨®<code>get</code>éœæ…‹æ–¹æ³•ï¼Œé‚„æœ‰è¨±å¤šå¸¸ç”¨æ–¹æ³•:</p>
</blockquote>
<ul>
<li><code>String toString()</code>:è¿”å›èª¿ç”¨Path ç‰©ä»¶çš„å­—ä¸²è¡¨ç¤ºå½¢å¼</li>
<li><code>boolean startsWith(String path)</code>:åˆ¤æ–·æ˜¯å¦ä»¥pathè·¯å¾‘é–‹å§‹</li>
<li><code>boolean endsWith(String path)</code>:åˆ¤æ–·æ˜¯å¦ä»¥pathè·¯å¾‘çµæŸ</li>
<li><code>boolean isAbsolute()</code>:åˆ¤æ–·æ˜¯å¦æ˜¯çµ•å°è·¯å¾‘</li>
<li><code>Path getParent()</code>:è¿”å›Pathç‰©ä»¶åŒ…å«æ•´å€‹è·¯å¾‘ï¼Œä¸åŒ…å«Path ç‰©ä»¶æŒ‡å®šçš„æª”è·¯å¾‘</li>
<li><code>Path getRoot()</code>:è¿”å›èª¿ç”¨Path ç‰©ä»¶çš„æ ¹è·¯å¾‘</li>
<li><code>Path getFileName()</code>:è¿”å›èˆ‡èª¿ç”¨Path ç‰©ä»¶é—œè¯çš„æª”æ¡ˆå</li>
<li><code>int getNameCount()</code>:è¿”å›Path æ ¹ç›®éŒ„å¾Œé¢å…ƒç´ çš„æ•¸é‡</li>
<li><code>Path getName(int idx)</code>:è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®idx çš„è·¯å¾‘åç¨±</li>
<li><code>Path toAbsolutePath()</code>:ä½œç‚ºçµ•å°è·¯å¾‘è¿”å›èª¿ç”¨Path ç‰©ä»¶</li>
<li><code>Path resolve(Path p)</code>:åˆä½µå…©å€‹è·¯å¾‘ï¼Œè¿”å›åˆä½µå¾Œçš„è·¯å¾‘å°æ‡‰çš„Pathç‰©ä»¶</li>
<li><code>File toFile()</code>:å°‡Pathè½‰åŒ–ç‚ºFileé¡çš„ç‰©ä»¶</li>
</ul>
<h5 id="filesé¡">Filesé¡</h5>
<blockquote>
<p>ä½æ–¼<code>java.nio.file.Files</code>ï¼Œæ˜¯æ“ä½œæ–‡ä»¶æˆ–ç›®éŒ„çš„å·¥å…·é¡ï¼Œå¸¸ç”¨æ–¹æ³•:</p>
</blockquote>
<ul>
<li><code>Path copy(Path src, Path dest, CopyOption â€¦ how)</code>:æª”çš„è¤‡è£½</li>
<li><code>Path createDirectory(Path path, FileAttribute&lt;?&gt; â€¦ attr)</code>:å‰µå»ºä¸€å€‹ç›®éŒ„</li>
<li><code>Path createFile(Path path, FileAttribute&lt;?&gt; â€¦ arr)</code>:å‰µå»ºä¸€å€‹æª”</li>
<li><code>void delete(Path path)</code>:åˆªé™¤ä¸€å€‹æª”/ç›®éŒ„ï¼Œå¦‚æœä¸å­˜åœ¨ï¼ŒåŸ·è¡Œå ±éŒ¯</li>
<li><code>void deleteIfExists(Path path)</code>:Pathå°æ‡‰çš„æª”/ç›®éŒ„å¦‚æœå­˜åœ¨ï¼ŒåŸ·è¡Œåˆªé™¤</li>
<li><code>Path move(Path src, Path dest, CopyOptionâ€¦how)</code>:å°‡srcç§»å‹•åˆ°destä½ç½®</li>
<li><code>long size(Path path)</code>:è¿”å›<code>path</code>æŒ‡å®šæ–‡ä»¶çš„å¤§å°</li>
</ul>
<blockquote>
<p>ç”¨æ–¼åˆ¤æ–·</p>
</blockquote>
<ul>
<li><code>boolean exists(Path path, LinkOption â€¦ opts)</code>:åˆ¤æ–·æª”æ˜¯å¦å­˜åœ¨</li>
<li><code>boolean isDirectory(Path path, LinkOption â€¦ opts)</code>:åˆ¤æ–·æ˜¯å¦æ˜¯ç›®éŒ„</li>
<li><code>boolean isRegularFile(Path path, LinkOption â€¦ opts)</code>:åˆ¤æ–·æ˜¯å¦æ˜¯æª”</li>
<li><code>boolean isHidden(Path path)</code>:åˆ¤æ–·æ˜¯å¦æ˜¯éš±è—æª”</li>
<li><code>boolean isReadable(Path path)</code>:åˆ¤æ–·æª”æ˜¯å¦å¯è®€</li>
<li><code>boolean isWritable(Path path)</code>:åˆ¤æ–·æª”æ˜¯å¦å¯å¯«</li>
<li><code>boolean notExists(Path path, LinkOption â€¦ opts)</code>:åˆ¤æ–·æª”æ˜¯å¦ä¸å­˜åœ¨</li>
</ul>
<blockquote>
<p>ç”¨æ–¼æ“ä½œå…§å®¹</p>
</blockquote>
<ul>
<li><code>SeekableByteChannel newByteChannel(Path path, OpenOptionâ€¦how)</code>:ç²å–èˆ‡æŒ‡å®šæª”çš„é€£æ¥ï¼Œhow æŒ‡å®šæ‰“é–‹æ–¹å¼</li>
<li><code>DirectoryStream&lt;Path&gt; newDirectoryStream(Path path)</code>:æ‰“é–‹path æŒ‡å®šçš„ç›®éŒ„</li>
<li><code>InputStream newInputStream(Path path, OpenOptionâ€¦how)</code>:ç²å–<code>InputStreamj</code>ç‰©ä»¶</li>
<li><code>OutputStream newOutputStream(Path path, OpenOptionâ€¦how)</code>:ç²å–<code>OutputStreamj</code>ç‰©ä»¶</li>
</ul>
<h1 id="å°çµ">å°çµ</h1>
<ul>
<li>åºåˆ—åŒ–:å¯¦ç¾<code>Serializable</code>æ¥å£ã€å®šç¾©<code>serialVersionUID</code>ã€ç¢ºèªé¡ä¸­çš„å±¬æ€§ä¹Ÿéƒ½æ˜¯å¯ä»¥åºåˆ—åŒ–çš„</li>
<li><code>RandomAccessFile</code>:é›™å‘ã€å¯æ–¼ä»»æ„ä½ç½®å­˜å–ï¼Œæ§‹é€ æ™‚ç”¨<code>mode</code>åƒæ•¸æ±ºå®šé¡å‹ï¼Œä½¿ç”¨<code>seek(index)</code>ç§»å‹•æŒ‡é‡ã€<code>getFilePointer()</code>æ‰¾æŒ‡é‡</li>
<li>NIO:ç”¨<code>Path</code>å–ä»£<code>File</code>ï¼Œç·©è¡å€è·Ÿç®¡é“å–ä»£IO</li>
</ul>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">ä¸Šæ¬¡ä¿®æ”¹æ–¼ 2021-12-12</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yoziming.github.io/post/211213-agg-ja-28/">
			ä¸‹ä¸€ç¯‡<br>é€šè¨Šå”å®š:URLã€IPèˆ‡ç¶²è·¯ç·¨ç¨‹
                </a>
                
                
                
                <a class="older-posts" href="https://yoziming.github.io/post/211211-agg-ja-26/">
			ä¸Šä¸€ç¯‡<br>IOæµ:åŸºç¤ã€ç·©è¡æµã€è½‰æ›æµèˆ‡Unicodeç·¨ç¢¼
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://waline-pn38gfwbz-yoziming.vercel.app/" ,
		lang: 'en-US',
		visitor: true,
		meta: ['nick', 'mail'],
    });
    </script>



            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ç§»æ¤è‡ª <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
